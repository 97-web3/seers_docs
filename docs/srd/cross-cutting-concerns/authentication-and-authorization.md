---
标题：认证与授权
版本：0.1
最后更新：2025-12-14
所有者：产品与工程部
状态：草稿
---

# 认证与授权

## 1. 认证
- 所有改变状态的操作（下注、创建市场）都需要认证。
- 只读端点（市场发现/详情）可根据产品策略设置为公开或需要认证；这需要在每次部署时决定。

## 2. 授权
### 角色（概念性）
- **用户 (User)**：可以浏览市场、下注、查看自己的持仓。
- **创建者 (Creator/Bookmaker)**：拥有创建市场和提供初始流动性资金的权限的用户。
- **运营者 (Operator)**：可以管理配置（超出 SRD 范围）并访问受保护的配置 API。

### 规则
- 用户只能访问自己的钱包、赌注和持仓。
- 市场创建需要创建者权限；否则返回 `UNAUTHORIZED`。

## 3. 会话/令牌要求
- 客户端通过 `Authorization: Bearer <token>` 提供凭证。
- 令牌必须是可撤销的且有时效性限制（实现选择）。

## 4. 可审计性
- 改变状态的端点必须可归因于用户身份，并在响应和日志中包含 `requestId`。